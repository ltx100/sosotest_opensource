{% include 'InterfaceTest/head.html' %}
<!-- Main content starts -->
<style>
    .font-label{
      white-space: nowrap;
      margin-right: 2%;
    }
    .children_line {
        margin-top: 5px;
        margin-bottom: 15px;
        display: inline-block;
        _display: inline;
        *display: inline;
        zoom: 1;
    }
    .father_line {
        text-align: center;
        margin: 0 auto;
        clear: both;
        height: auto;
    }
    .fontCss{
        margin-left: 0px;
        white-space: nowrap
    }
    .black_overlay {

    display: none;
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
    background-color: black;
    z-index: 1001;
    -moz-opacity: 0.8;
    opacity: .80;
    filter: alpha(opacity=80);
}

    .white_content {
        display: none;
        position: absolute;
        top: 15%;
        left: 20%;
        width: 60%;
        height: auto;
        border: 16px solid lightblue;
        background-color: white;
        z-index: 1002;

    }


</style>


<div class="content">
    <!-- Sidebar -->
    {% include 'InterfaceTest/HTTPMenu.html' %}
       <!-- Sidebar ends -->    <!-- Sidebar ends -->
    <!-- Main bar -->
    <div class="right_col" role="main" style="min-height: 1657px;">
         <div class="">
            <div class="page-title">
              <div class="title_left">
                <div class="col-xs-12 form-group pull-right top_search">
                    <h3>{{ text.pageTitle }}</h3>
                  </div>
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                      <h2 class="topH">{{ text.subPageTitle }}</h2>

                      <h2 class="subNavH2Style topButton">
                        <a href="javascript:void(0);" onclick="httpRequestDatagramToInterfaceCase()">
                          <button class="btn btn-warning">
                              报文转用例
                          </button>
                        </a>
                      </h2>

                      <h2 class="subNavH2Style">
                        <a href="/static/soso_extensions/readme.html" target="_blank">
                          <button class="btn btn-warning">
                              用例录制插件
                          </button>
                        </a>
                      </h2>

                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>

                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <div  data-parsley-validate class="form-horizontal form-label-left">
                      <div>
                        <h2>基本信息</h2>
                      </div>
                        {% if option == "edit" or option == "check" %}
                                <div class="form-group" >
                                    <label class="control-label col-md-min-1 font-label">接口编号</label>
                                    <div class="col-lg-8">
                                        <input type="text" id="interfaceId" class="form-control col-md-7 col-xs-12" disabled value="">
                                    </div>
                                </div>
                        {% endif %}
                      <div class="form-group">
                        <label class="control-label col-md-min-1 font-label">接口名称 <span class="required">*</span>
                        </label>
                        <div class="col-lg-8">
                          <input  id="name" placeholder="请输入接口名称" type="text"  required="required" class="form-control col-md-7 col-xs-12">
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="control-label col-md-min-1 font-label" for="last-name">接口描述 <span class="required">*</span>
                        </label>
                        <div class="col-lg-8">
                            <textarea type="text" id="describe" required="required" class="form-control col-md-7 col-xs-12 Fixed-width"
                            placeholder="请输入接口描述"
                            ></textarea>
                        </div>
                      </div>
                        <div class="form-group">
                            <label class="control-label col-md-min-1" style="margin-left: 2%;white-space: nowrap">{{ groupLevel1 }}</label>
                            <div class="col-lg-2" style="width: 13.5%">
                                <select class="form-control" id="businessLine" onchange="switchModule($(this).val())">
                                    {% for business in businessLine %}
                                        <option value="{{ business.id }}">{{ business.bussinessLineName }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <label class="control-label col-md-min-1" style="width:4.3%;white-space: nowrap">{{ groupLevel2 }}</label>
                            <div class="col-lg-2" style="width: 13.5%">
                                <select class="form-control" id="modules">
{#                                    {% for m in modules %}#}
{#                                        <option value="{{ m.id }}">{{ m.moduleName }}</option>#}
{#                                    {% endfor %}#}
                                </select>
                            </div>
                            <label class="control-label col-md-min-1" style="width:4.3%;white-space: nowrap">来源</label>
                            <div class="col-lg-2" style="width: 13.5%">
                                <select class="form-control" id="sources">
                                     {% for s in source %}
                                        <option value="{{ s.id }}">{{ s.sourceName }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <label class="control-label col-md-min-1" style="width:4.3%;white-space: nowrap">优先级</label>
                            <div class="col-lg-2" style="width: 13.5%">
                                <select class="form-control" id="caselevel">
                                    <option value="0">高</option>
                                    <option value="5" selected>中</option>
                                    <option value="9">低</option>
                                </select>
                            </div>
                        </div>
                                          <div>
                        <h2>准备</h2>
                      </div>
                         <div class="form-group"  >
                            <div  class="col-lg-8 prepareCss">
                                <textarea type="text" onfocus="resetGlobalElement($(this),'')"
                                      class="form-control Fixed-width"
                                      id="commonValBeforeInput"
                                      name="BeforeValInput"
                                      placeholder="请输入通用变量">{{ beforeCommonVal }}</textarea>
                            </div>
                             <div  class="col-lg-8 prepareCss" id="commonValBeforeInputLinkDiv">
                            </div>
                        </div>

                      <div>
                        <h2>执行信息</h2>
                      </div>
                         <div class="form-group">
                            <div  class="col-lg-8 exeCss">
                                <div id="interfaceTabContent" class="tab-content">
                                    <div class="tab-pane fade active in" id="requestBody">
                                        <div class="form-group" style="margin-left: -2%">
                                             <div  class="col-lg-2" style="width:16%;padding-right: 0px">
                                                <select class="form-control mySelect2ForURI" id="URI">
                                                    {% for u in uri %}
                                                        <option value="{{ u.uriKey }}" title="服务KEY[{{ u.uriKey }}]：{{ u.uriDesc }}" style="min-height: 34px !important;">{{ u.alias }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div  class="col-lg-2" style="width:17%;padding-right: 0px;padding-left: 0px">
                                                <button id="useCustomUriBtn" style="width:100%;padding-top: 6px;padding-bottom: 6px;background-color: #CCFFFF;border-color: #99FFFF" onclick="useCustomToggle()" type="button" class="btn btn-lg">
                                                    <i class="fa fa-hand-o-left"></i>使用服务配置地址</button>
                                                <input type="checkbox" id="useCustomUri" checked style="display:none;" />

                                            </div>
                                            <div class="col-lg-2" style="width:23%;padding-right: 0px;padding-left: 0px" >
                                                <input type="text"  style="border-radius:0px;height: 38px;resize:none" id="customUri" class="form-control" placeholder="自定义请求地址,例:http://127.0.0.1" title="请输入自定义请求地址,例:http://127.0.0.1"/>
                                            </div>
                                             <div  class="col-lg-2" style="width:20%;padding-right: 0px;padding-left: 0px">
                                                <select class="form-control " id="redirectSelect">
                                                    <option value="1" title="自动重定向" style="min-height: 34px !important;">自动重定向</option>
                                                    <option value="0" title="不自动重定向" style="min-height: 34px !important;">不自动重定向</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group" style="margin-left: -2%">
                                            <div class="col-lg-2" style="width:16%;padding-right: 0px">
                                                <select class="form-control"  id="methodSelect" onchange="changeBodyTab($(this).val())" style="border-top-right-radius:0em;border-bottom-right-radius:0em;">
                                                    <option value="GET">GET</option>
                                                    <option value="POST" selected="">POST</option>
                                                    <option value="PUT">PUT</option>
                                                    <option value="PATCH">PATCH</option>
                                                    <option value="DELETE">DELETE</option>
                                                    <option value="HEAD">HEAD</option>
                                                    <option value="OPTIONS">OPTIONS</option>
                                                </select>
                                            </div>

                                            <div class="col-lg-2" style="width:40%;padding-right: 0px;padding-left: 0px" >
                                                <input onfocus="resetGlobalElement($(this),'')" type="text" name="URL" style="border-radius:0px;height: 38px;resize:none" id="URL" class="form-control" placeholder="接口URL,例:/appapi/product/getSpuListByScence" title="请输入接口URL,例:/appapi/product/getSpuListByScence"/>
                                            </div>
                                        <div class="col-lg-1" style="width:10%;padding-right: 0px;padding-left: 0px" >
                                                <input type="text" class="form-control" style="border-top-left-radius:0em;border-bottom-left-radius:0em;height: 38px;" placeholder="超时时间" title="超时时间:为可以等待的最大的接口返回时间,单位秒,默认20" id="timeout">
                                            </div>
                                            <div class="col-lg-1" style="width:10%;padding-right: 0px;padding-left: 0px" >
                                                <input type="text" class="form-control" style="border-top-left-radius:0em;border-bottom-left-radius:0em;height: 38px;" placeholder="性能时间" title="性能时间:为预期的接口请求的返回时间,单位秒,默认1" id="performanceTime">
                                            </div>

                                        </div>

                                         <div class="form-group" style="margin-left: -2%">
                                                <div class="col-lg-12">
                                                    <ul id="myTab2" class="nav nav-tabs "  style="margin-bottom: 0px;margin-top: 15px;">
                                                        <li style="margin-left: 0%;"><a href="#paramsTab" data-toggle="tab">PARAMS</a></li>
                                                        <li><a href="#headerTab" data-toggle="tab">HEADER(0)</a></li>
                                                        <li  class="active"><a href="#bodyTab" data-toggle="tab">BODY</a></li>
                                                    </ul>

                                                    <div id="myTabContent2" class="tab-content" style="margin-left: 0%;margin-top: 5px">
                                                        <div class="tab-pane fade" id="headerTab">
                                                            <div class="form-group">
                                                                <div class="col-lg-12">
                                                                    <table class="table" style="table-layout:fixed;" >
                                                                        <thead>
                                                                            <tr style="color: snow" bgcolor="##2A3F54">
                                                                                <th style="font-weight: bold;width: 20%" >Key</th>
                                                                                 <th style="font-weight: bold">Value</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="headerTbody" >
                                                                            <tr name="headerTr">
                                                                                <td style="padding: 0px"><input class="form-control" onclick="addTableTr($(this).parent().parent().parent());$('[href=\'#headerTab\']').text('HEADER('+($('[name=\'headerTr\']').length-1)+')')" name="headerKey" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;"  /></td>
                                                                                <td style="padding: 0px"><input class="form-control" onclick="addTableTr($(this).parent().parent().parent());$('[href=\'#headerTab\']').text('HEADER('+($('[name=\'headerTr\']').length-1)+')')" name="headerValue" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;width:95%;" />
                                                                                <button class="btn btn-danger" style="float: right; margin-top: -35px; display: none;" onclick="$(this).parent().parent().remove();$('[href=\'#headerTab\']').text('HEADER('+($('[name=\'headerTr\']').length-1)+')')"><i class="fa fa-trash"></i></button></td>
                                                                            </tr>

                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="tab-pane fade" id="paramsTab">
                                                            <div class="form-group">
                                                                <div class="col-lg-12" >
                                                                    <table class="table" style="table-layout:fixed;">
                                                                        <thead>
                                                                            <tr style="color: snow" bgcolor="#2A3F54">
                                                                                <th style="font-weight: bold;width: 20%" >Key</th>
                                                                                 <th style="font-weight: bold">Value  <button class="btn btn-info" onclick="toggleUrlEncode($(this),'params')" style="float: right;margin-top: -8px;margin-bottom: -8px">原始</button></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="paramsTbody">
                                                                            <tr name="paramsTr">
                                                                                <td style="padding: 0px">
                                                                                    <input class="form-control" onclick="addTableTr($(this).parent().parent().parent())" name="paramsKey" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;"  />
                                                                                </td>
                                                                                <td style="padding: 0px">
                                                                                    <input class="form-control" onclick="addTableTr($(this).parent().parent().parent())" name="paramsValue" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;width:95%;" />
                                                                                    <button class="btn btn-danger" style="display:none;float: right;margin-top: -35px;" onclick="$(this).parent().parent().remove()"><i class="fa fa-trash"></i></button>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="col-lg-12" style="display:none;">
                                                                    <button class="btn btn-info" onclick="toggleUrlEncode($(this),'params')" style="float: right;margin-top: 0px;;margin-bottom: 0px">key-value</button>
                                                                    <textarea type="text" class="form-control Fixed-width" onfocus="resetGlobalElement($(this),'')" name="parameter" id="parameter" placeholder="请输入测试参数"></textarea>
                                                                </div>
                                                                </div>


                                                            </div>
                                                        </div>
                                                        <div class="tab-pane fade active in" id="bodyTab" style="margin-left: 20px;margin-right: 20px">
                                                            <div class="form-group" style="margin-bottom: 10px">
                                                                <div class="col-lg-12" style="font-size: 15px">
                                                                    <div style="margin-top: 10px;" class="col-lg-10 father_line allRadioWidth">
                                                                        <div class="children_line" style="margin-left: -30%;">
                                                                            <div class="father_line">
                                                                                <div class="children_line"><label class="col-lg-1 httpRawLabelCss"></label></div>
                                                                                <div class="children_line"><input onfocus="resetGlobalElement($(this),'')" type="radio" name="body" onclick="clickBodyRadio();" checked value="none"/></div>
                                                                                <div class="children_line"><font class="fontCss">none</font></div>
                                                                                <div style="clear:both"></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="children_line" style="margin-left: 2%">
                                                                            <div class="father_line">
                                                                                <div class="children_line">
                                                                                    <label class="col-lg-1 httpFormDataLabelCss father_line"></label>
                                                                                </div>
                                                                                <div class="children_line">
                                                                                    <input onfocus="resetGlobalElement($(this),'')" type="radio" name="body" onclick="clickBodyRadio();changeHeader('')" value="form-data"/>
                                                                                </div>
                                                                                <div class="children_line">
                                                                                    <font class="fontCss">form-data</font>
                                                                                </div>
                                                                                <div style="clear:both"></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="children_line radioMamargin">
                                                                            <div class="father_line">
                                                                                <div class="children_line"><label class="col-lg-1 httpUrlencodeLabelCss"></label></div>
                                                                                <div class="children_line"><input onfocus="resetGlobalElement($(this),'')" type="radio" name="body" onclick="clickBodyRadio();changeHeader('application/x-www-form-urlencoded')" value="x-www-form-urlencoded"/></div>
                                                                                <div class="children_line"><font class="fontCss">x-www-form-urlencoded</font></div>
                                                                                <div style="clear:both"></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="children_line radioMamargin">
                                                                            <div class="father_line">
                                                                                <div class="children_line"><label class="col-lg-1 httpRawLabelCss"></label></div>
                                                                                <div class="children_line"><input onfocus="resetGlobalElement($(this),'')" type="radio" name="body" onclick="clickBodyRadio();changeHeader('')" value="raw"/></div>
                                                                                <div class="children_line"><font class="fontCss">raw</font></div>
                                                                                <div style="clear:both"></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="children_line radioMamargin">
                                                                            <div class="father_line">
                                                                                <div class="children_line"><label class="col-lg-1 httpBinaryLabelCss"></label></div>
                                                                                <div class="children_line"><input onfocus="resetGlobalElement($(this),'')" type="radio" name="body" onclick="clickBodyRadio();changeHeader('')" value="binary"/></div>
                                                                                <div class="children_line"><font class="fontCss">binary</font></div>
                                                                                <div style="clear:both"></div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="clear:both"></div>
                                                                    </div>
                                                                    <div class="col-lg-2 rawSelect"  id="body-raw-select" style="display: none">
                                                                        <select class="form-control"  id="headerSelected" onchange="changeHeader($(this).val());changeSelectWidth($(this));" style="margin-top: 5px;width: 80px">
                                                                            <option value="Text" selected="">Text</option>
                                                                            <option value="text/plain">Text(text/plain)</option>
                                                                            <option value="application/json">JSON(application/json)</option>
                                                                            <option value="application/javascript">Javascript(application/javascript)</option>
                                                                            <option value="application/xml">XML(application/xml)</option>
                                                                            <option value="text/xml">XML(text/xml)</option>
                                                                            <option value="text/html">HTML(text/html)</option>
                                                                        </select>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="form-group" id="body-form-data" style="display:none;">
                                                                <table class="table" style="table-layout:fixed;">
                                                                    <thead>
                                                                        <tr style="color: snow" bgcolor="#2A3F54">
                                                                            <th style="font-weight: bold;width: 25%" >Key</th>
                                                                             <th style="font-weight: bold">Value</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="body-form-Tbody">
                                                                        <tr name="body-form-Tr">
                                                                            <td style="padding: 0px">
                                                                                <input class="form-control" onclick="addTableTr($(this).parent().parent().parent())" name="bodyFormKey" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;width: 70%;"  />
                                                                                <select class="form-control" name="bodyFormSelected" disabled  onchange="formDataInput_file($(this))" style="background-color: rgb(183, 186, 189);width: 30%;float: right;margin-top: -34px">
                                                                                    <option value="text">text</option>
                                                                                    <option value="file">file</option>
                                                                                </select>
                                                                            </td>
                                                                            <td style="padding: 0px">
                                                                                <input class="form-control" onclick="addTableTr($(this).parent().parent().parent())" name="bodyFormValue" onfocus="resetGlobalElement($(this),'')" style="background-color: rgb(183, 186, 189);border-radius:0px;width:95%;" />
                                                                                <button class="btn btn-danger" style="display:none;float: right; margin-top: -35px;" onclick="$(this).parent().parent().remove()"><i class="fa fa-trash"></i></button>
                                                                                <div style="display:none;width:80%;margin-top: 3px" >
                                                                                    <div class="btn_addPic">
                                                                                    <span>上传文件…</span><input onfocus="resetGlobalElement($(this),'')"
                                                                                        name="formDataInput" multiple
                                                                                        tabindex="3"
                                                                                        title="支持jpg、jpeg、gif、png格式，文件小于1M"
                                                                                        size="3"
                                                                                        name="pic" class="filePrew"
                                                                                        type="file"
                                                                                        onchange="loadFile($(this))">
                                                                                    </div>
                                                                                    <input onfocus="resetGlobalElement($(this),'')" type="text" name="formDataFileName" disabled
                                                                                           style="height: 28px;width:300px;border:1px solid #f1f1f1"/>
                                                                                    <span name="formDataFileSpan" style="display:none;"></span>
                                                                                    </div>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="form-group" id="body-none" style="display:block;">
                                                                <div class="col-lg-12" style="padding-left: 0px;padding-right: 0px;text-align: center">
                                                                    <hr/>
                                                                    <span>当前请求没有body</span>
                                                                    <hr/>
                                                                </div>
                                                            </div>
                                                            <div class="form-group" id="body-x-www-form-urlencoded" style="display:none;">
                                                                <table class="table" style="table-layout:fixed;">
                                                                    <thead>
                                                                        <tr style="color: snow" bgcolor="#2A3F54">
                                                                            <th style="font-weight: bold;width: 20%" >Key</th>
                                                                            <th style="font-weight: bold">Value <button class="btn btn-info" onclick="toggleUrlEncode($(this),'x-www-form-urlencoded')" style="float: right;margin-top: -8px;margin-bottom: -8px">原始</button></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="x-www-form-urlencodedTbody">
                                                                        <tr name="x-www-form-urlencodedTr">
                                                                            <td style="padding: 0px"><input class="form-control" name="urlEncodeKey" onfocus="resetGlobalElement($(this),'')" onclick="addTableTr($(this).parent().parent().parent())" style="background-color: rgb(183, 186, 189);border-radius:0px;"  /></td>
                                                                            <td style="padding: 0px">
                                                                                <input class="form-control" onfocus="resetGlobalElement($(this),'')" name="urlEncodeValue" onclick="addTableTr($(this).parent().parent().parent())" style="background-color: rgb(183, 186, 189);border-radius:0px;width: 95%" />
                                                                                <button class="btn btn-danger" style="display:none;float: right;margin-top: -35px;" onclick="$(this).parent().parent().remove()"><i class="fa fa-trash"></i></button>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>

                                                                <div class="col-lg-12" style="padding-left: 0px;padding-right: 0px;display: none" >
                                                                     <button class="btn btn-info" onclick="toggleUrlEncode($(this),'x-www-form-urlencoded')" style="float: right;margin-top: -10px;margin-bottom: 10px">key-value</button>
                                                                    <textarea type="text" onfocus="resetGlobalElement($(this),'')" name="x-www-form-urlencoded-input" class="form-control Fixed-width" id="x-www-form-urlencoded-input" placeholder="请输入完整body"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="form-group" id="body-raw" style="display:none;">
                                                                <div class="col-lg-12" style="padding-left: 0px;padding-right: 0px;">
                                                                    <textarea type="text" onfocus="resetGlobalElement($(this),'')" name="body-raw-input" class="form-control Fixed-width" id="body-raw-input" placeholder="请输入测试参数"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="form-group" id="body-binary"
                                                                 style="display:none;">
                                                                <div class="btn_addPic">
                                                                    <span>上传文件…</span><input onfocus="resetGlobalElement($(this),'')"
                                                                        id="fileInput" multiple
                                                                        tabindex="3"
                                                                        title="支持jpg、jpeg、gif、png格式，文件小于5M"
                                                                        size="3"
                                                                        name="pic" class="filePrew"
                                                                        type="file"
                                                                        onchange="loadFile($(this))">
                                                                </div>
                                                                <input onfocus="resetGlobalElement($(this),'')" type="text" id="textName" disabled
                                                                       style="height: 28px;width:300px;border:1px solid #f1f1f1"/>
                                                                <span id="binarySpan" style="display:none;"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                      <div>
                        <h2>断言恢复</h2>
                      </div>
                         <div class="form-group"  >
                            <div  class="col-lg-8 prepareCss">
                                <textarea type="text" onfocus="resetGlobalElement($(this),'')"
                                              name="commonAfterValInput"
                                              class="form-control Fixed-width"
                                              id="commonValAfterInput"
                                              placeholder="请输入通用变量"></textarea>
                            </div>
                            <div  class="col-lg-8 prepareCss" id="commonValAfterInputLinkDiv">
                            </div>
                        </div>
                    </div>
                    <div class="ln_solid" ></div>
                    <div style="width:65%;" class="col-lg-12">
                    {% if option == "add" or option == "addbymock" %}
                        {% if 'add' in  permissionsList %}
                        <button style="float: right" type="button" class="btn btn-success btn-lg" onclick="saveOrDebug('save')">&nbsp;&nbsp;&nbsp;&nbsp;保存&nbsp;&nbsp;&nbsp;&nbsp;</button>
                        {% endif %}
                    {% elif option == "check" %}
                        {% if "edit" in permissionsList %}
                            <a href="{% url 'HTTP_operationInterface' %}?id={{ id }}&option=edit&addBy={{ addBy }}">
                                <button style="float: right" type="button" class="btn btn-success btn-lg">&nbsp;&nbsp;&nbsp;&nbsp;编辑&nbsp;&nbsp;&nbsp;&nbsp;</button>
                            </a>
                        {% endif %}
                        {% if "copy" in permissionsList %}
                            <a href="{% url 'HTTP_operationInterface' %}?id={{ id }}&option=copy&addBy={{ addBy }}">
                                <button style="float: right" type="button" class="btn btn-success btn-lg">&nbsp;&nbsp;&nbsp;&nbsp;拷贝&nbsp;&nbsp;&nbsp;&nbsp;</button>
                            </a>
                        {% endif %}
                    {% elif option == "copy" %}
                            <a href="javascript:void(0);">
                                <button style="float: right" type="button" class="btn btn-success btn-lg" onclick="saveOrDebug('save')">&nbsp;&nbsp;&nbsp;&nbsp;保存&nbsp;&nbsp;&nbsp;&nbsp;</button>
                            </a>
                    {% elif option == "edit" %}
                            {% if "edit" in permissionsList %}
                                <button style="float: right" type="button" class="btn btn-success btn-lg" onclick="saveOrDebug('edit')">&nbsp;&nbsp;&nbsp;&nbsp;保存&nbsp;&nbsp;&nbsp;&nbsp;</button>
                            {% else %}
                                    <button style="float: right" type="button" class="btn btn-success btn-lg" onclick="window.close()">&nbsp;&nbsp;&nbsp;&nbsp;关闭&nbsp;&nbsp;&nbsp;&nbsp;</button>
                            {% endif %}
                    {% endif %}
                    </div>
                  </div>
                </div>
              </div>

                <!--调试-->
              <div class="x_panel">
                  <div class="x_title">
                    <h2>接口调试</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    {% include "config/debugBtnPage.html" %}
                      <div id="debugResult" style="display: none">
                        <table class="table table-striped table-bordered table-hover"
                               style="table-layout:fixed;word-break:break-all;">
                            <thead>
                            <tr style="color: snow" bgcolor="#2A3F54">
                                <th style="width:2%;">编号</th>
                                <th style="width:3%;">测试结果</th>
                                <th style="width:3%;">执行环境</th>
                                <th style="width:8%;display:none;">预期结果</th>
                                <th style="width:8%;">实际结果</th>
                                <th style="width:15%;">断言结果</th>
                                <th style="width:3%;">执行前耗时</th>
                                <th style="width:3%;">执行耗时</th>
                                <th style="width:3%;">执行后耗时</th>
                                <th style="width:3%;">总耗时</th>
                                <th style="width:5%;">操作</th>
                            </tr>
                            </thead>
                            <tbody id="debugResultTbody">

                            </tbody>
                        </table>
                    </div>
                  </div>
                </div>
            </div>
          </div>
    </div>

</div>
<div id="loading" class="loadingWrap" style="display:none;"></div>
<div id="fade" class="black_overlay" style="display: none; height: 974px;"></div>
<div id="addRequestDatagramDiv" class="white_content x_panel" style="widows: 100%;align-content: center;" >
  <div class="x_title">
      <h2>添加报文转换为接口用例</h2>
        <button class="btn btn-info pull-right" style="margin-left: 10px" onclick="CloseDiv('addRequestDatagramDiv','fade')"><i class="fa fa-remove"></i>
        </button>
      <div class="clearfix"></div>
  </div>
  <div class="x_content">
      <div class="x_content" >
          <div class="widget-foot">
            <table width="100%">
                <thead>
                <tr>
                    <th>请求报文</th>
                    <th>响应报文</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <textarea id="requestDatagramTextarea" style="width: 100%;height:400px;" ></textarea>
                    </td>
                    <td>
                        <textarea id="responseDatagramTextarea" style="width: 100%;height:400px;" ></textarea>
                    </td>
                </tr>
                </tbody>
            </table>
            <br>
              <button class="btn btn-info pull-right" style="margin-left: 20px;background-color: red"
                      onclick="CloseDiv('addRequestDatagramDiv','fade')">关闭
              </button>
              <button class="btn btn-info pull-right" style="margin-left: 20px"
                      onclick="doDatagramToCase()">转换
              </button>

              <div class="clearfix"></div>
          </div>
      </div>

  </div>
</div>
<script type="text/javascript">
    var optionFromContext = "{{ option }}";
    var bmRelationUrl = '{% url 'bmRelation' %}';
    var HTTP_getUrikeyByConfigInfoUrl = '{% url 'HTTP_getUrikeyByConfigInfo' %}';
    var HTTP_InterfaceDelTipUrl = '{% url 'HTTP_InterfaceDelTip' %}';
    var HTTP_InterfaceSaveEditUrl = '{% url 'HTTP_InterfaceSaveEdit' %}';
    var getInterfaceDataForIdUrl = "{% url 'getInterfaceDataForId' %}";
    var getInterfaceDataForIdUrlId = "{{ id }}";
    var getServiceConfUrl = "{% url 'getServiceConf' %}";
    var HTTP_InterfaceGetAutoFillDataUrl = "{% url 'getRedisInterfaceData' %}";
{#    var HTTP_InterfaceGetAutoFillDataUrl = "{% url 'HTTP_InterfaceGetAutoFillData' %}";#}
    var MOCK_getInterfaceDataForIdUrl = "{% url 'MOCK_getInterfaceDataForId' %}";
    var MOCK_getInterfaceDataForIdUrlMockId = "{{ mockid }}";
    var HTTP_InterfaceAddUrl = "{% url 'HTTP_InterfaceAdd' %}";
    var HTTP_InterfaceCheckUrl = "{% url 'HTTP_InterfaceCheck' %}";
    var HTTP_InterfaceDebugAddUrl = "{% url 'HTTP_InterfaceDebugAdd' %}";
    var HTTP_InterfaceDebugUrl = "{% url 'HTTP_InterfaceDebug' %}";
    var HTTP_InterfaceDebugGetResultUrl= "{% url 'HTTP_InterfaceDebugGetResult' %}";
    var requestSessionVersion = "{{ request.session.version }}";
    var interfaceAutoFillKey = "{{ interfaceAutoFillKey }}";


</script>
<script src="/static/template_js/http/interfaceadd.js?v={{ static_version }}"></script>
<!-- Content ends -->
{% include 'fuzhu_page/publicKeyMain.html' %}
{% include 'InterfaceTest/foot.html' %}